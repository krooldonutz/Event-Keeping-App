<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
<head>
    <title>Event List</title>
    <!-- Include Bootstrap CSS styles -->
    <link href="/bootstrap.min.css" rel="stylesheet">
</head>
<body style="background-color: #f6f4f2;">
    <!-- Image banner for the page -->
    <img src="/eventManagementApp.jpg" width="100%" height="20%" />
    <br><br>
    <!-- Container for the main content -->
    <div class="container text-center">
        <br>
        <!-- Title for the page -->
        <h1>Event List</h1>
        <h5>Choose the Event to be Updated</h5>
        <br>
        <div class="col-sm">
            <div *ngIf="eventsDB.length > 0">
                <div class="form-group">
                  <label for="name">Name</label>
                  <input type="text" class="form-control" id="name" [(ngModel)]="name">
                </div>
                <br>
                <div class="form-group">
                  <label for="capacity">Capacity</label>
                  <input type="number" class="form-control" id="capacity" [(ngModel)]="capacity">
                </div>
                <br>
                <button type="submit" class="btn btn-warning" (click)="onUpdateEvent()">Update Event</button>
              </div>
              <br><br>
        </div>
        <!-- Container for the table of events -->
        <div class="container mb-3">
            <!-- Table to display event details -->
            <table class="table">
                <thead class="table-light">
                    <tr>
                        <!-- Table headers -->
                        <th>Id</th>
                        <th>Name</th>
                        <th>Created Date</th>
                        <th>Image</th>
                        <th>Capacity</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Loop through event records using *ngFor -->
                    <tr *ngFor="let item of eventsDB">
                        <!-- Display event ID -->
                        <td>{{ item.eventId }}</td>
                        <!-- Display event name -->
                        <td>{{ item.name }}</td>
                        <!-- Display formatted start date and time -->
                        <td>{{ item.startDateTime | date: 'short' }}</td>
                        <!-- Display event image -->
                        <td class="w-25">
                            <img [src]="item.image" class="img-fluid img-thumbnail" alt="Event Image">
                        </td>
                        <!-- Display event capacity -->
                        <td>{{ item.capacity }}</td>
                        <td><button type="submit" class="btn btn-primary" (click)="onSelectUpdate(item)">Select</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body> 
</html>
